// proxy_low_latency.pac
// كل الإنترنت الخارجي يمر عبر بروكسي، المحلي DIRECT
// ترتيب البروكسيات يعطي الأولوية للبنق الأقل (أسرع)

function FindProxyForURL(url, host) {

    // --------------------------------
    // السماح بالاتصال المحلي فقط
    // --------------------------------
    if (isPlainHostName(host) || host === "localhost" || host === "127.0.0.1") {
        return "DIRECT";
    }
    if (isInNet(host, "10.0.0.0", "255.0.0.0") ||
        isInNet(host, "172.16.0.0", "255.240.0.0") ||
        isInNet(host, "192.168.0.0", "255.255.0.0")) {
        return "DIRECT";
    }
    if (isInNet(host, "169.254.0.0", "255.255.0.0")) {
        return "DIRECT";
    }
    if (host === "::1") {
        return "DIRECT";
    }

    // --------------------------------
    // بروكسيات الإنترنت الخارجي مرتبة حسب الأفضلية
    // --------------------------------
    var PROXY_LIST = [
        "SOCKS 91.106.109.12:20001", // أسرع بروكسي
        "SOCKS 91.106.109.12:443"    // بروكسي ثانوي
    ];

    // كل الإنترنت الخارجي يمر عبر البروكسيات فقط
    return PROXY_LIST.join("; ");
}
